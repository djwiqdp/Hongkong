:root{
  --ink:#111;
  --gallery-bg:#f4f4f4;        /* 왼쪽 배경(연한 회색) */
  --gallery-ink:#111;          /* 왼쪽 글자(검정) */
  --paper:#fff;
  --accent:#ce0018;             /* 포인트 레드 */
  --jukebg:#ce0018;           /* 오른쪽 배경(빨강) */
  --gap:12px;
  --ease:cubic-bezier(.2,.6,0,1);

  --ballet:"Ballet", cursive;  /* EN + 숫자 */
  --sans:ui-sans-serif,system-ui,-apple-system,"Apple SD Gothic Neo","Segoe UI",Roboto,"Noto Sans KR","Pretendard",Arial,sans-serif;
}

/* Global */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--sans);
  font-weight:600; letter-spacing:.01em;
  overflow:hidden; cursor:none; color:var(--gallery-ink)
}
::selection{background:rgba(185,13,33,.18);color:var(--accent)}
@media (max-width:980px){body{overflow:auto;cursor:auto}#cursor{display:none}}

/* Custom Cursor */
#cursor{position:fixed;inset:0;pointer-events:none;z-index:1000}
#cursor .core{
  position:fixed;left:0;top:0;width:10px;height:10px;border-radius:50%;
  background:#111;border:2px solid #fff;box-shadow:0 0 6px rgba(0,0,0,.25);
  transform:translate(-50%,-50%);
}
#trail span{
  position:fixed;left:0;top:0;width:8px;height:8px;border-radius:50%;
  background:rgba(185,13,33,.55);
  transform:translate(-50%,-50%); filter:blur(.2px);
}

/* Layout */
.wrap{height:100vh;display:grid;grid-template-columns:minmax(0,1fr) 360px}

/* LEFT (Gallery) */
.gallery{
  background:var(--gallery-bg); color:var(--gallery-ink);
  padding:0 16px 28px; border-right:1px solid #e2e2e2;
  overflow:auto; scroll-behavior:smooth;
}
.headbar{
  display:flex; align-items:center; gap:10px;
  padding:12px 0 14px; border-bottom:1px solid #e2e2e2;
  background:var(--gallery-bg);
}
.logo{height:26px;width:auto;object-fit:contain}

/* Intro */
.intro{margin:16px 2px 22px;max-width:96ch}
.intro .prose{
  white-space:pre-wrap; font-family:var(--sans);
  font-weight:500; font-size:12.5px; letter-spacing:0; line-height:1.6;
  color:#222; opacity:.95; margin:0;
}

/* Day */
.days{display:grid;gap:28px}
.day{
  padding-top:20px;
  border-top:0;                 /* 상단 보더 제거 → 이중선 방지 */
  animation:fadeUp .5s var(--ease) both;
}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

.dayrow{
  display:grid; grid-template-columns:180px minmax(0,1fr);
  align-items:start; column-gap:24px;
}
.meta{display:grid;align-content:start;row-gap:10px}

/* DAY/08 → 고딕 */
.daytitle,.daycount{
  font-family:var(--sans);
  font-weight:700;
  letter-spacing:.01em;
}
.daytitle{
  color:var(--accent);
  text-transform:uppercase;
  font-size:clamp(14px,2.1vw,22px);
  line-height:1.02;
}
.daycount{
  color:var(--accent);
  font-size:clamp(28px,4.2vw,38px);
  line-height:1;
  margin-top:6px;
}

/* Grid */
.grid{
  margin-top:12px; display:grid; gap:var(--gap);
  grid-template-columns:repeat(8,minmax(0,1fr));
  grid-auto-rows:8px;
}
@media (max-width:1440px){.grid{grid-template-columns:repeat(6,1fr)}}
@media (max-width:1120px){.grid{grid-template-columns:repeat(5,1fr)}}
@media (max-width:960px){ .grid{grid-template-columns:repeat(4,1fr)}}
@media (max-width:720px){ .grid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:520px){ .grid{grid-template-columns:repeat(2,1fr)}}

/* Tile + Hover Label */
.tile{
  position:relative; cursor:pointer; overflow:hidden; background:var(--paper);
  border:1px solid #eee; transform:translateY(6px) scale(.98);
  animation:tileIn .6s var(--ease) both; will-change:transform,opacity;
}
@keyframes tileIn{from{opacity:0;transform:translateY(12px) scale(.96)}to{opacity:1;transform:none}}
.grid .tile:nth-child(3n){animation-delay:.04s}
.grid .tile:nth-child(3n+1){animation-delay:.08s}
.grid .tile:nth-child(3n+2){animation-delay:.12s}

.tile img{position:relative;z-index:0;width:100%;height:100%;object-fit:cover;display:block;transition:transform .5s var(--ease)}
.tile::after{content:"";position:absolute;inset:0;background:rgba(185,13,33,.62);opacity:0;transition:opacity .25s var(--ease);z-index:1}
.tile:hover::after{opacity:1}
.tile:hover img{transform:scale(1.03)}

.label{position:absolute;left:8px;top:8px;right:8px;z-index:2;pointer-events:none;opacity:0;transform:translateY(-4px);transition:opacity .18s var(--ease),transform .18s var(--ease)}
.tile:hover .label{opacity:1;transform:none}
.label .num{display:block;color:#fff;font-family:var(--ballet);font-weight:400;font-size:clamp(18px,2.8vw,24px);line-height:1.05;margin-bottom:4px}
.label .txt{display:block;color:#fff;font-family:var(--sans);font-weight:600;letter-spacing:-.01em;font-size:11px;line-height:1.25}

/* Day divider — 선 1개만 */
.hr{height:1px;background:#ddd;margin:18px 0 0}

/* RIGHT (Jukebox) */
.jukebox{background:var(--jukebg);position:relative;color:#fff}
.panel{position:sticky;top:0;width:100%;padding:14px 16px 18px}

/* Disc: play=spin+grayscale, pause=color; 외곽 실선 제거 */
.discwrap{width:100%;display:grid;place-items:center;margin:2px 0 6px}
.disc{
  position:relative;width:min(200px,72%);aspect-ratio:1/1;border-radius:50%;
  background:radial-gradient(circle at 50% 50%,#ffffff 0 24%,#f4f4f4 24.2% 100%);
  border:none;                                  /* ← 실선 제거 */
  animation:spin 9s linear infinite paused; overflow:hidden;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}
@keyframes spin{to{transform:rotate(360deg)}}
.disc.playing{animation-play-state:running}
.disc #art{position:absolute;inset:0;width:100%;height:100%;border-radius:50%;object-fit:cover;filter:grayscale(100%);transition:filter .35s var(--ease)}
.disc.colored #art{filter:none}                 /* 정지 시 컬러 */
.hole{position:absolute;inset:0;margin:auto;width:14%;aspect-ratio:1/1;border-radius:50%;background:var(--accent);border:2px solid var(--accent)}
.ring{position:absolute;inset:0;margin:auto;width:62%;aspect-ratio:1/1;border-radius:50%;border:2px dashed #111;animation:dash 3.2s linear infinite}
@keyframes dash{to{transform:rotate(-360deg)}}

.title-serif{text-align:center;font-family:var(--ballet);font-weight:400;font-size:15px;line-height:1.2;color:#fff;letter-spacing:.02em}
.artist-sans{text-align:center;font-family:var(--sans);font-weight:600;font-size:12px;letter-spacing:.02em;opacity:.95;color:#fff}

/* Progress */
.progress{width:100%;height:6px;margin:8px 0 4px;background:rgba(255,255,255,.35);border-radius:9999px;overflow:hidden}
.bar{height:100%;width:0%;background:#fff;transition:width .15s linear}
.time{display:flex;justify-content:space-between;font-variant-numeric:tabular-nums;font-size:12px;color:#fff}

/* Playlist */
.list{display:grid;gap:6px;margin-top:8px}
.row{display:block;padding:9px 12px;background:transparent;color:#fff;cursor:pointer;border:none;border-radius:10px;transition:background .2s var(--ease),transform .18s var(--ease),opacity .2s var(--ease)}
.row:hover{opacity:.9;transform:translateY(-1px)}
.row .t1{font-size:13.5px;font-family:var(--ballet)}
.row .t2{font-size:11px;opacity:.9;font-family:var(--sans)}
.row.active{background:#111;color:#fff}.row.active .t2{opacity:1;color:#fff}

/* Lightbox: white bg + black text */
.lightbox{position:fixed;inset:0;background:#fff;display:none;align-items:center;justify-content:center;z-index:60}
.lightbox.open{display:flex}
.lightbox img{max-width:92vw;max-height:92vh;object-fit:contain;box-shadow:0 20px 60px rgba(0,0,0,.08)}
.lb-caption{position:absolute;left:4vw;top:4vh;color:#111;font-family:var(--sans)}
.lb-caption .num{display:block;font-family:var(--ballet);font-weight:400;font-size:clamp(18px,2.6vw,24px);line-height:1.05;margin-bottom:6px;color:#111}
.lb-caption .txt{display:block;font-weight:600;letter-spacing:-.01em;font-size:12px;line-height:1.25;color:#111}
.lx{position:absolute;top:50%;transform:translateY(-50%);background:transparent;border:none;color:#111;font-size:42px;line-height:1;cursor:pointer}
.lx.prev{left:6vw}.lx.next{right:6vw}

/* ---------- Invitation Modal (letter.png 버전) ---------- */
.invite{
  position: fixed; inset: 0; z-index: 1200;
  display: none; place-items: center;
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(8px);    /* 배경 블러 + 딤 */
}
.invite.open{ display: grid; }

/* 닫기 버튼: 뷰포트 우상단 고정 */
.invite-close{
  position: fixed; top: 16px; right: 16px; z-index: 2001;
  width: 40px; height: 40px; border-radius: 50%;
  background: #8b0014; color: #fff; border: none;
  font-size: 22px; line-height: 40px; text-align: center; cursor: pointer;
  box-shadow: 0 6px 18px rgba(0,0,0,.18);
}

/* 중앙 레터 이미지 */
.invite-sheet{
  position: relative; z-index: 2000;
  display: grid; place-items: center;
  padding: 0; margin: 0;
}
.letter-img{
  width: min(680px, 92vw);   /* ← 레터 표시 폭(가이드 아래 참고) */
  height: auto; display: block;
  user-select: none; -webkit-user-drag: none;
  image-rendering: auto;
}

